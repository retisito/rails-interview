<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="h2">
    <i class="bi bi-list-task me-2"></i>
    Mis Listas de Tareas
  </h1>
  <%= link_to new_todo_list_path, class: "btn btn-primary" do %>
    <i class="bi bi-plus-circle me-1"></i>
    Nueva Lista
  <% end %>
</div>

<% if @todo_lists.any? %>
  <div class="row">
    <% @todo_lists.each do |todo_list| %>
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-folder me-2 text-primary"></i>
              <%= todo_list.name %>
            </h5>
            <p class="card-text text-muted">
              <small>
                <i class="bi bi-calendar me-1"></i>
                Creada: <%= todo_list.created_at.strftime("%d/%m/%Y") %>
              </small>
            </p>
            <div class="d-flex justify-content-between align-items-center">
              <small class="text-muted">
                <%= pluralize(todo_list.todo_items.count, 'tarea') %>
                <% if todo_list.todo_items.any? %>
                  | <%= todo_list.todo_items.completed.count %> completadas
                <% end %>
              </small>
            </div>
          </div>
          <div class="card-footer bg-transparent">
            <div class="btn-group w-100" role="group">
              <%= link_to todo_list, class: "btn btn-outline-primary btn-sm" do %>
                <i class="bi bi-eye me-1"></i>Ver
              <% end %>
              <%= link_to edit_todo_list_path(todo_list), class: "btn btn-outline-secondary btn-sm" do %>
                <i class="bi bi-pencil me-1"></i>Editar
              <% end %>
              <%= link_to todo_list, method: :delete, 
                          class: "btn btn-outline-danger btn-sm",
                          confirm: "¿Estás seguro de eliminar esta lista?",
                          data: { "turbo-method": :delete } do %>
                <i class="bi bi-trash me-1"></i>Eliminar
              <% end %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="text-center py-5">
    <i class="bi bi-inbox display-1 text-muted"></i>
    <h3 class="mt-3 text-muted">No hay listas aún</h3>
    <p class="text-muted">Crea tu primera lista de tareas para comenzar</p>
    <%= link_to new_todo_list_path, class: "btn btn-primary btn-lg mt-3" do %>
      <i class="bi bi-plus-circle me-1"></i>
      Crear Primera Lista
    <% end %>
  </div>
<% end %>
